model PrismaMeeting {
	id Int @id @default(autoincrement())

	type PrismaMeetingType
	number Int
	year Int

	summons PrismaFile @relation(name: "MeetingSummons", fields: [refSummons], references: [id])
	refSummons String @map("ref_summons")

	documents PrismaFile @relation(name: "MeetingDocuments", fields: [refDocuments], references: [id])
	refDocuments String @map("ref_documents")

	lateDocuments PrismaFile @relation(name: "MeetingLateDocuments",fields: [refLateDocuments], references: [id])
	refLateDocuments String @map("ref_late_documents")

	protocol PrismaFile @relation(name: "MeetingProtocols", fields: [refProtocol], references: [id])
	refProtocol String @map("ref_protocol")

	appendix PrismaFile @relation(name: "MeetingAppendix", fields: [refAppendix], references: [id])
	refAppendix String @map("ref_appendix")

	@@unique([type, number, year])

	@@map("meetings")
}

enum PrismaMeetingType {
	SM
	VM
	VTM
	HTM

	@@map("meeting_types")
}

model PrismaFile {
	id String @id @default(cuid())

	meetingSummons PrismaMeeting? @relation("MeetingSummons")
	meetingDocuments PrismaMeeting? @relation("MeetingDocuments")
	meetingLateDocuments PrismaMeeting? @relation("MeetingLateDocuments")
	meetingProtocols PrismaMeeting? @relation("MeetingProtocols")
	meetingAppendix PrismaMeeting? @relation("MeetingAppendix")

	@@map("files")
}